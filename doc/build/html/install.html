

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Install &mdash; Python-bufr v0.2.3 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Python-bufr v0.2.3 documentation" href="index.html" />
    <link rel="prev" title="Welcome to Python-bufr’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="index.html" title="Welcome to Python-bufr’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Python-bufr v0.2.3 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="install">
<h1>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h1>
<p>Short description on how to install the python-bufr module from source</p>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>The following dependencies are needed for the python-bufr package to work</p>
<ul class="simple">
<li>ECMWF BUFR decoding library <a class="reference external" href="http://www.ecmwf.int/products/data/software/download/bufr.html">http://www.ecmwf.int/products/data/software/download/bufr.html</a></li>
<li>Python Numpy <a class="reference external" href="http://numpy.scipy.org/">http://numpy.scipy.org/</a></li>
</ul>
<p>If you are using easy_install or pip you only need to manually install the ECMWF bufr library.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Note that the ECMWF bufr library needs to be compiled with the -fPIC option
both for the C and Fortran code please see instructions below.</p>
<p class="last">You can use both the bufrdc library (default) and the emos library from
ECMWF. In case you want to use the emos library you will have to change the
library_dirs variable i the setup.py file.</p>
</div>
<div class="section" id="ecmwf-bufr-library">
<h3>ECMWF BUFR Library<a class="headerlink" href="#ecmwf-bufr-library" title="Permalink to this headline">¶</a></h3>
<p>Follow the install instructions in the package README file and use the
./build_library and install scripts. Hovever before you run the script you will
need to change the configuration file for you platform. The configuration files
can be found in config directory.</p>
<p>The config files are sorted by OS, architecture and compiler</p>
<p>The OS can be found using the following command:</p>
<div class="highlight-python"><pre>uname -s | tr '[A-Z]' '[a-z]'</pre>
</div>
<p>E.g the output of this command could be linux.</p>
<p>The platform can be found using the following command:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">uname</span> <span class="o">-</span><span class="n">m</span>
</pre></div>
</div>
<p>E.g the ouput of this command could be x84_64</p>
<p>I normally choose to use the gfortran compiler, and if I avoid the 64 bit reals
that the build_library script questions me for the resulting configuration file
will be:  config/config.linux_gfortranA64 following the pattern
config.&lt;OS&gt;&lt;_compiler&gt;&lt;architecture&gt;. Notice that for the default compiler the
_compiler will be an empty string.</p>
<p>You will need to edit the file and add the option <em>-fPIC</em> to the CFLAGS and
FFLAGS variable.</p>
<p>If you do not know which file to edit the build_library script prints it out,
so you can run the script first, find the config file, edit it and then rerun
the build_library script.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Note that by default the build_library script will create a libbufr.a that
is read-only. This results in that that &#8216;make clean&#8217; will not work
proporly. You will have to manually remove the libbufr.a library from the
root source directory. This also applies for the directories and libraries
installed using the install script included in the source.</p>
</div>
</div>
</div>
<div class="section" id="install-python-bufr">
<h2>Install Python-Bufr<a class="headerlink" href="#install-python-bufr" title="Permalink to this headline">¶</a></h2>
<p>There are multiple ways to install the python-bufr code. At DMI we use debian
packages , you can install from source or you can use the pypi package.</p>
<p>In the two later cases I recommend that you install using a virtual
environment. See <a class="reference external" href="http://pypi.python.org/pypi/virtualenv">http://pypi.python.org/pypi/virtualenv</a></p>
<div class="section" id="install-using-the-pypi-package">
<h3>Install Using the Pypi Package<a class="headerlink" href="#install-using-the-pypi-package" title="Permalink to this headline">¶</a></h3>
<p>To install using pypi use the following commands:</p>
<div class="highlight-python"><pre>LDFLAGS=-L/&lt;path to libbufr directory&gt; pip install python-bufr</pre>
</div>
<p>The LDFLAGS variable tells the installation script in what directory to find
the libbufr.a library.</p>
</div>
<div class="section" id="install-using-source">
<h3>Install Using Source<a class="headerlink" href="#install-using-source" title="Permalink to this headline">¶</a></h3>
<p>Download the source package from the google-code download page. Untar the package and run the setup.py script:</p>
<div class="highlight-python"><pre>LDFLAGS=-L/&lt;path to libbufr directory&gt; python setup.py install</pre>
</div>
<p>The LDFLAGS variable tells the installation script in what directory to find
the libbufr.a library.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Install</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a><ul>
<li><a class="reference internal" href="#ecmwf-bufr-library">ECMWF BUFR Library</a></li>
</ul>
</li>
<li><a class="reference internal" href="#install-python-bufr">Install Python-Bufr</a><ul>
<li><a class="reference internal" href="#install-using-the-pypi-package">Install Using the Pypi Package</a></li>
<li><a class="reference internal" href="#install-using-source">Install Using Source</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to Python-bufr&#8217;s documentation!</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/install.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="index.html" title="Welcome to Python-bufr’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">Python-bufr v0.2.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Kristian Rune Larsen.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.1.
    </div>
  </body>
</html>